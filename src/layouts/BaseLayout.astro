---
import BaseHead, { type Props as HeadProps } from "@/components/BaseHead.astro"
import Footer from "@/components/Footer.astro"
import { Header } from "@/components/Header"
import HeaderNav from "@/components/HeaderNav.astro"
import PageBackground from "@/components/PageBackground.astro"
import marty from "@/images/marty.jpg"
import { isHomePage } from "@/lib/utils"
import "@/styles/global.css"

export type Props = HeadProps

const { ...head } = Astro.props

const isHome = isHomePage(new URL(Astro.request.url).pathname.toString())
---

<html lang="en" class="h-full scroll-smooth antialiased">
  <head>
    <BaseHead {...head} />
    <script src="@/scripts/theme-prefs.ts"></script>
  </head>
  <body
    class="flex min-h-full bg-zinc-50 text-zinc-600 dark:bg-black dark:text-zinc-400"
  >
    <PageBackground />
    <div class="relative flex w-full flex-col">
      <Header avatarSrc={marty.src} isHomePage={isHome} client:load>
        <HeaderNav />
      </Header>
      <main class="flex-auto">
        <slot />
      </main>
      <Footer />
    </div>
  </body>
</html>
